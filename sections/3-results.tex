\section{Results}
\label{sec:results}

We have sourced 24 datasets from ODDS~\cite{rayana2016odds}.
These datasets had already been preprocessed to standardize them for outlier detection benchmarks.

% TODO: Did we repeat this experiment with a different six? Was it actually at random? Najib: I'm planning on upping this to 8 datasets, and then doing 4-fold cross-validation. This selection was completely random. np.random.seed(42)
Of these 24 datasets, we selected a random sample of 6 datasets, shown in Table~\ref{table:results:train-performance}, to use for training CHAODA\@.
The remaining datasets were used to measure the performance of CHAODA\@.
The performance on the test set of datasets is split among Tables~\ref{table:results:test-performance-1} and~\ref{table:results:test-performance-2}.
Each column shows the AUC ROC scores of CHAODA and every competitor.
The best, i.e.\ highest, score, and every score with 0.02 of that best score, are presented in bold.
% TODO: We should definitely let these all run for more than 10 minutes, no?
% Najib: Yes. Later. I'll give each method several hours.
If a method took longer than 10 hours on a dataset, we terminated that run and marked the corresponding cell with ``\textit{time}''.
For now, the times taken by CHAODA methods are unreported.

%TODO summarize results in text here, but I don't want to rewrite this twice, so let's finalize everything first.

% Was this repeated? Reads like we picked the six we don't do well on so that we could do well. Najib: Technically, CHAODA won 3/6.
% NMD: I'm leaving this out until we do cross-validation with more datasets in test. We didn't cherry-pick those, and need not make it look like we did.
% Interestingly, CHAODA did not perform particularly well on the training set of datasets.
% However, on the test set, CHAODA outperformed all competitors on 10 of the 18 datasets.


\begin{table*}[!t]
\renewcommand{\arraystretch}{1.25}
\caption{Performance on Train Datasets}
\label{table:results:train-performance}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
\textbf{dataset} & \textbf{annthyroid} & \textbf{mnist} & \textbf{pendigits} & \textbf{satellite} & \textbf{shuttle} & \textbf{thyroid} \\
\hline
ensemble-L2 & 0.62 & 0.63 & 0.77 & \bfseries 0.63 & 0.84 & 0.87 \\
\hline
ensemble-L1 & 0.62 & 0.59 & \bfseries 0.96 & 0.41 & 0.81 & \bfseries 0.96 \\
\hline
CBLOF & \bfseries 0.76 & 0.56 & 0.64 & 0.58 & \bfseries 0.98 & \bfseries 0.96 \\
\hline
COF & 0.51 & 0.58 & 0.55 & 0.54 & \textit{time} & 0.52 \\
\hline
HBOS & 0.62 & 0.51 & 0.83 & \bfseries 0.65 & 0.96 & 0.88 \\
\hline
IFOREST & 0.65 & 0.60 & 0.92 & \bfseries 0.64 & \bfseries 0.98 & 0.94 \\
\hline
KNN & 0.72 & 0.62 & 0.56 & 0.57 & 0.60 & 0.93 \\
\hline
LMDD & 0.70 & \textit{time} & 0.69 & 0.44 & \textit{time} & 0.93 \\
\hline
LOCI & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
\hline
LODA & 0.53 & 0.62 & 0.77 & \bfseries 0.64 & 0.53 & 0.61 \\
\hline
LOF & 0.52 & 0.55 & 0.55 & 0.53 & 0.53 & 0.54 \\
\hline
MCD & 0.73 & \bfseries 0.67 & 0.60 & \bfseries 0.65 & \bfseries 0.96 & 0.94 \\
\hline
OCSVM & 0.71 & 0.63 & 0.80 & \bfseries 0.64 & \bfseries 0.98 & 0.94 \\
\hline
SOD & 0.69 & 0.57 & 0.58 & 0.56 & \textit{time} & 0.87 \\
\hline
SOS & 0.50 & 0.51 & 0.51 & 0.48 & \textit{time} & 0.50 \\
\hline
\end{tabular}
\end{table*}


\begin{table*}[!t]
\renewcommand{\arraystretch}{1.25}
\caption{Time taken on Train Datasets}
\label{table:results:train-time}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \textbf{dataset} & \textbf{annthyroid} & \textbf{mnist} & \textbf{pendigits} & \textbf{satellite} & \textbf{shuttle} & \textbf{thyroid} \\
    \hline
    ensemble-L2 & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
    \hline
    ensemble-L1 & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
    \hline
    CBLOF & 1.52 & 0.69 & 0.22 & 0.29 & 0.23 & 0.13 \\
    \hline
    COF & 218.44 & 279.26 & 196.07 & 173.27 & 11854.39 & 53.41 \\
    \hline
    HBOS & 1.47 & 0.06 & 0.01 & 0.02 & 0.02 & 0.00 \\
    \hline
    IFOREST & 0.70 & 1.40 & 0.78 & 0.81 & 3.08 & 0.49 \\
    \hline
    KNN & 0.92 & 12.50 & 1.21 & 2.04 & 10.29 & 0.41 \\
    \hline
    LMDD & 108.93 & 1387.66 & 198.58 & 369.73 & 6584.80 & 33.27 \\
    \hline
    LOCI & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
    \hline
    LODA & 0.11 & 0.13 & 0.12 & 0.11 & 0.49 & 0.07 \\
    \hline
    LOF & 0.37 & 12.05 & 0.92 & 1.75 & 9.20 & 0.15 \\
    \hline
    MCD & 1.67 & 6.63 & 2.78 & 3.56 & 18.07 & 1.24 \\
    \hline
    OCSVM & 2.69 & 11.86 & 3.29 & 4.14 & 158.58 & 0.68 \\
    \hline
    SOD & 141.53 & 162.93 & 121.38 & 113.86 & 5983.29 & 37.95 \\
    \hline
    SOS & 109.16 & 53.27 & 45.96 & 42.17 & 2267.79 & 45.93 \\
    \hline
    \end{tabular}
\end{table*}

% \newpage % I hate this but it might look much neater

\begin{table*}[!t]
\renewcommand{\arraystretch}{1.25}
\caption{Performance on the first half of the Test Datasets}
\label{table:results:test-performance-1}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|}
\hline
\textbf{dataset} & \textbf{arrhythmia} & \textbf{breastw} & \textbf{cardio} & \textbf{cover} & \textbf{glass} & \textbf{http} & \textbf{ionosphere} & \textbf{lympho} & \textbf{mammography} \\
\hline
ensemble-L2 & \bfseries 0.72 & \bfseries 0.93 & 0.66 & 0.82 & \bfseries 0.82 & \bfseries 1.00 & \bfseries 0.81 & 0.92 & 0.62 \\
\hline
ensemble-L1 & 0.63 & 0.85 & 0.50 & 0.75 & 0.76 & \bfseries 0.99 & 0.79 & 0.87 & \bfseries 0.81 \\
\hline
CBLOF & \bfseries 0.71 & 0.63 & 0.70 & 0.72 & 0.50 & 0.96 & 0.64 & 0.88 & 0.65 \\
\hline
COF & 0.64 & 0.43 & 0.54 & \textit{time} & 0.56 & \textit{time} & 0.63 & 0.71 & 0.60 \\
\hline
HBOS & 0.68 & 0.64 & 0.73 & 0.62 & 0.50 & 0.97 & 0.45 & \bfseries 0.97 & 0.68 \\
\hline
IFOREST & 0.65 & 0.64 & 0.67 & 0.83 & 0.56 & 0.96 & 0.64 & \bfseries 0.97 & 0.73 \\
\hline
KNN & 0.69 & 0.59 & 0.58 & 0.52 & 0.56 & 0.48 & 0.63 & \bfseries 0.98 & 0.68 \\
\hline
LMDD & 0.66 & 0.64 & 0.70 & \textit{time} & 0.45 & \textit{time} & 0.62 & 0.71 & 0.77 \\
\hline
LOCI & \bfseries 0.70 & \textit{time} & \textit{time} & \textit{time} & 0.52 & \textit{time} & 0.64 & 0.82 & \textit{time} \\
\hline
LODA & 0.64 & 0.64 & 0.71 & \bfseries 0.88 & 0.56 & 0.48 & 0.61 & 0.53 & 0.65 \\
\hline
LOF & 0.67 & 0.44 & 0.52 & 0.55 & 0.57 & 0.47 & 0.59 & \bfseries 0.97 & 0.63 \\
\hline
MCD & 0.70 & 0.64 & 0.71 & 0.52 & 0.45 & 0.96 & 0.64 & 0.80 & 0.49 \\
\hline
OCSVM & \bfseries 0.71 & 0.64 & \bfseries 0.75 & \textit{time} & 0.50 & 0.96 & 0.64 & \bfseries 0.97 & 0.75 \\
\hline
SOD & 0.62 & 0.62 & 0.57 & \textit{time} & 0.56 & \textit{time} & 0.64 & 0.62 & 0.63 \\
\hline
SOS & 0.51 & 0.50 & 0.50 & \textit{time} & 0.50 & \textit{time} & 0.64 & 0.62 & \textit{time} \\
\hline
\end{tabular}
\end{table*}

\begin{table*}[!t]
\renewcommand{\arraystretch}{1.25}
\caption{Time taken on the first half of the Test Datasets}
\label{table:results:test-time-1}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \textbf{dataset} & \textbf{arrhythmia} & \textbf{breastw} & \textbf{cardio} & \textbf{cover} & \textbf{glass} & \textbf{http} & \textbf{ionosphere} & \textbf{lympho} & \textbf{mammography} \\
    \hline
    ensemble-L2 & \textit{time} & \textit{time} & 0.59 & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
    \hline
    ensemble-L1 & \textit{time} & \textit{time} & 0.52 & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
    \hline
    CBLOF & 0.15 & 0.06 & 0.12 & 2.17 & 0.05 & 0.42 & 0.08 & 0.06 & 0.23 \\
    \hline
    COF & 1.19 & 1.82 & 12.36 & \textit{time} & 0.22 & \textit{time} & 0.57 & 0.16 & 501.51 \\
    \hline
    HBOS & 0.07 & 0.00 & 0.01 & 1.20 & 0.00 & 0.02 & 0.01 & 0.01 & 0.01 \\
    \hline
    IFOREST & 0.41 & 0.32 & 0.41 & 6.30 & 0.29 & 5.13 & 0.31 & 0.29 & 0.88 \\
    \hline
    KNN & 0.18 & 0.07 & 0.29 & 99.35 & 0.02 & 53.65 & 0.04 & 0.01 & 1.40 \\
    \hline
    LMDD & 14.79 & 2.58 & 22.05 & 28119.46 & 0.56 & 9481.89 & 1.68 & 0.40 & 242.79 \\
    \hline
    LOCI & 280.33 & 1173.23 & \textit{time} & \textit{time} & 24.76 & \textit{time} & 115.65 & 9.49 & \textit{time} \\
    \hline
    LODA & 0.04 & 0.03 & 0.05 & 1.06 & 0.02 & 0.89 & 0.04 & 0.02 & 0.15 \\
    \hline
    LOF & 0.16 & 0.02 & 0.18 & 93.24 & 0.00 & 45.76 & 0.02 & 0.00 & 0.58 \\
    \hline
    MCD & 2.08 & 0.50 & 0.48 & 13.64 & 0.04 & 3.89 & 0.09 & 0.03 & 2.02 \\
    \hline
    OCSVM & 0.10 & 0.03 & 0.24 & 628.09 & 0.00 & 477.33 & 0.01 & 0.00 & 6.50 \\
    \hline
    SOD & 0.99 & 1.63 & 10.48 & 28245.95 & 0.20 & 24607.93 & 0.52 & 0.12 & 332.75 \\
    \hline
    SOS & 0.45 & 45.42 & 4.02 & \textit{time} & 0.18 & \textit{time} & 0.44 & 0.11 & 5962.80 \\
    \hline
    \end{tabular}
\end{table*}


\begin{table*}[!b]
\renewcommand{\arraystretch}{1.25}
\caption{Performance on the second half of the Test Datasets}
\label{table:results:test-performance-2}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|}
\hline
\textbf{dataset} & \textbf{musk} & \textbf{optdigits} & \textbf{pima} & \textbf{satimage-2} & \textbf{smtp} & \textbf{vertebral} & \textbf{vowels} & \textbf{wbc} & \textbf{wine} \\
\hline
ensemble-L2 & \bfseries 1.00 & 0.58 & 0.45 & 0.95 & \bfseries 0.86 & 0.41 & 0.69 & 0.76 & 0.71 \\
\hline
ensemble-L1 & \bfseries 1.00 & 0.49 & \bfseries 0.60 & \bfseries 0.99 & 0.82 & \bfseries 0.46 & 0.81 & 0.78 & 0.70 \\
\hline
CBLOF & 0.64 & 0.47 & 0.54 & 0.96 & 0.82 & \bfseries 0.46 & 0.72 & 0.82 & 0.45 \\
\hline
COF & 0.53 & 0.52 & 0.54 & 0.61 & \textit{time} & \bfseries 0.46 & 0.89 & 0.78 & 0.45 \\
\hline
HBOS & 0.96 & \bfseries 0.75 & 0.57 & 0.93 & 0.81 & \bfseries 0.46 & 0.57 & \bfseries 0.85 & 0.77 \\
\hline
IFOREST & 0.96 & 0.53 & 0.56 & 0.95 & 0.83 & \bfseries 0.46 & 0.62 & 0.82 & 0.61 \\
\hline
KNN & 0.59 & 0.48 & 0.54 & 0.80 & 0.82 & 0.45 & \bfseries 0.94 & 0.80 & 0.45 \\
\hline
LMDD & 0.96 & 0.45 & 0.53 & 0.45 & \textit{time} & 0.44 & 0.51 & 0.75 & 0.66 \\
\hline
LOCI & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \bfseries 0.47 & \textit{time} & 0.78 & 0.53 \\
\hline
LODA & 0.96 & 0.46 & 0.54 & 0.94 & 0.82 & 0.44 & 0.58 & 0.82 & 0.66 \\
\hline
LOF & 0.65 & 0.54 & 0.51 & 0.60 & 0.59 & \bfseries 0.46 & 0.80 & 0.83 & 0.61 \\
\hline
MCD & 0.96 & 0.45 & 0.54 & 0.96 & 0.83 & 0.44 & 0.51 & 0.80 & \bfseries 0.88 \\
\hline
OCSVM & 0.96 & 0.45 & 0.54 & 0.93 & \textit{time} & 0.44 & 0.59 & 0.82 & 0.50 \\
\hline
SOD & 0.62 & 0.48 & 0.55 & 0.69 & \textit{time} & \bfseries 0.46 & 0.82 & 0.80 & 0.45 \\
\hline
SOS & 0.49 & 0.52 & 0.52 & 0.50 & \textit{time} & \bfseries 0.48 & 0.61 & 0.52 & 0.45 \\
\hline
\end{tabular}
\end{table*}

\begin{table*}[!b]
\renewcommand{\arraystretch}{1.25}
\caption{Time taken on the second half of the Test Datasets}
\label{table:results:test-time-2}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \textbf{dataset} & \textbf{musk} & \textbf{optdigits} & \textbf{pima} & \textbf{satimage-2} & \textbf{smtp} & \textbf{vertebral} & \textbf{vowels} & \textbf{wbc} & \textbf{wine} \\
    \hline
    ensemble-L2 & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
    \hline
    ensemble-L1 & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} & \textit{time} \\
    \hline
    CBLOF & 0.24 & 0.33 & 0.09 & 0.33 & 1.08 & 0.06 & 0.10 & 0.08 & 0.05 \\
    \hline
    COF & 44.19 & 116.89 & 2.28 & 137.11 & \textit{time} & 0.27 & 7.66 & 0.64 & 0.10 \\
    \hline
    HBOS & 0.07 & 0.03 & 0.00 & 0.02 & 0.02 & 0.00 & 0.00 & 0.01 & 0.00 \\
    \hline
    IFOREST & 0.90 & 0.89 & 0.33 & 0.75 & 5.14 & 0.28 & 0.37 & 0.31 & 0.29 \\
    \hline
    KNN & 3.81 & 4.79 & 0.08 & 1.90 & 9.17 & 0.02 & 0.16 & 0.04 & 0.01 \\
    \hline
    LMDD & 376.76 & 421.83 & 2.81 & 301.64 & 8478.47 & 0.59 & 9.35 & 1.90 & 0.34 \\
    \hline
    LOCI & \textit{time} & \textit{time} & 1808.72 & \textit{time} & \textit{time} & 34.97 & 23694.09 & 146.60 & 7.07 \\
    \hline
    LODA & 0.12 & 0.10 & 0.03 & 0.10 & 0.93 & 0.02 & 0.05 & 0.03 & 0.02 \\
    \hline
    LOF & 4.11 & 4.52 & 0.02 & 1.65 & 2.06 & 0.00 & 0.07 & 0.02 & 0.00 \\
    \hline
    MCD & 39.35 & 2.56 & 0.51 & 3.07 & 27.31 & 0.05 & 0.84 & 0.10 & 0.04 \\
    \hline
    OCSVM & 2.62 & 4.05 & 0.03 & 3.40 & 614.48 & 0.00 & 0.11 & 0.01 & 0.00 \\
    \hline
    SOD & 29.72 & 73.76 & 1.82 & 92.97 & 22000.50 & 0.27 & 6.83 & 0.59 & 0.12 \\
    \hline
    SOS & 9.31 & 25.82 & 1.01 & 34.51 & \textit{time} & 0.21 & 2.81 & 0.39 & 0.13 \\
    \hline
    \end{tabular}
\end{table*}